{% load static wagtailuserbar wagtailcore_tags wagtailimages_tags navs_tags %}

{% get_menu "nav" as nav %}

<!DOCTYPE HTML>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>
    {% block title %}
      {% if self.seo_title %}{{ self.seo_title }}{% else %}{{ self.title }}{% endif %}
    {% endblock %}
    {% block title_suffix %}
      {% with self.get_site.site_name as site_name %}
        {% if site_name %}- {{ site_name }}{% endif %}
      {% endwith %}
    {% endblock %}
  </title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

  {# Global stylesheets #}
  <link rel="stylesheet" type="text/css" href="{% static 'css/tobiasfyi.css' %}">
  <link rel="stylesheet" href="{% static '/css/main.css' %}" />
  <noscript>
    <link rel="stylesheet" href="{% static '/css/noscript.css' %}" />
  </noscript>

  {% block extra_css %}
    {# Override this in templates to add extra stylesheets #}
  {% endblock %}

  <link rel="icon" href="{% static '/images/favicon.png' %}" />
</head>

<body class="is-preload {% block body_class %}{% endblock body_class %}">
  {% wagtailuserbar %}

  <div id="wrapper">

    <header id="header" class="alt">
      <svg class="logo" xmlns="http://www.w3.org/2000/svg" width="100%" height="100" viewBox="0 0 800 800">
        <title>19-07-05-100days-logo</title>
        <g id="ac9c0328-58b8-475b-bbe4-6e91f854db0f" data-name="Layer 4">
          <path
            d="M609,353.73V279.58l-183.77,0,0-205.6H389.58q-18.72,106.17-61.17,165.16T201,321.75v32H319.91V544.2l.1,68.69V730c9.65-61.91,58.94-129,105.24-141.16l0-16.78,0-218.31ZM408.88,337.36V577.18c-21.94,9.28-44,28-63.12,53.78-3.29,4.43-6.43,9-9.41,13.69V612.89l-.1-68.71V337.36H217.35V334c54.17-17.21,96-45.84,124.31-85.23,27.76-38.57,48.42-91.79,61.49-158.36h5.75V296H592.65v41.37Z"
            fill="#fff" />
          <circle cx="400" cy="400" r="360" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="12" />
          <circle cx="400" cy="400" r="384" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="20" />
        </g>
      </svg>
      <h1>tobias.fyi</h1>
      <p><small>Explorations with <i>Tobias Reaper</i></small></p>
    </header>

    <nav id="nav" class="nav main">
      <ul>
        {% if blog.paginator.num_pages > 1 %}
          {% if blog.next_page_number <= blog.paginator.num_pages|add:"-1" %}
            <li>
              <a class="linked" href="?page={{ blog.paginator.num_pages }}">
                <span>&larr;&larr;</span>
              </a>
            </li>
          {% else %}
            <li>
              <a class="disabled"><span>&larr;&larr;</span></a>
            </li>
          {% endif %}

          {% if blog.has_next %}
            <li>
              <a class="linked" href="?page={{ blog.next_page_number }}">
                <span>&larr;</span>
              </a>
            </li>
          {% else %}
            <li>
              <a class="disabled"><span>&larr;</span></a>
            </li>
          {% endif %}

          {% for page_num in blog.paginator.page_range %}
            <li>
              <a class="linked" href="?page={{ page_num }}">
                {{ blog.pk|stringformat:"03d" }} ~ {{ blog.title }}
              </a>
            </li>
          {% endfor %}

          {% if blog.has_previous %}
            <li>
              <a class="linked" href="?page={{ blog.previous_page_number }}">
                <span>&rarr;</span>
              </a>
            </li>
          {% else %}
            <li>
              <a class="disabled"><span>&rarr;</span></a>
            </li>
          {% endif %}

          {% if blog.previous_page_number > 1 %}
            <li>
              <a class="linked" href="?page=1"><span>&rarr;&rarr;</span></a>
            </li>
          {% else %}
            <li>
              <a class="disabled"><span>&rarr;&rarr;</span></a>
            </li>
          {% endif %}
        {% endif %}
      </ul>
    </nav>

    <!-- Child Page Content -->
    {% block content %}
    {% endblock content %}
    
    <!-- Display Story / Image Previews -->
    {% for story in stories %}
    <section id="{{ story.pk }}" class="main">
      <div class="spotlight">
        <div class="content">
          <header class="major">
            <h2>{{ story.pk|stringformat:"03d" }} ~ {{ story.title }}</h2>
          </header>
          <p>{{ story.body|truncatewords_html:24|safe }}</p>
          <ul class="actions">
            <li><a href="{% url 'story_detail' story.pk %}" class="button">Read On</a></li>
          </ul>
        </div>
        <span class="image"><img src="{{ story.image.url }}" alt="{{ story.caption }}" /></span>
      </div>
    </section>
    {% endfor %}

  </div>

  <!-- Footer -->
  <footer id="footer">
    <section>
      <h2>tobias.fyi</h2>
      <p>Content created by <i>Tobias Reaper</i>
      <ul class="actions">
        <li><a href="#" class="button">Learn More</a></li>
      </ul>
    </section>
    <section>
      <h2>Get In Touch!</h2>
      <dl class="alt">
        <dt>Email</dt>
        <dd><a href="mailto:hi@tobias.fyi">hi@tobias.fyi</a></dd>
      </dl>
    </section>
    <p class="copyright">
      <br>Designed and developed by Tobias Reaper.
      <small>
        <br>&copy; Content on this site is licensed under a 
        <br><a href="https://creativecommons.org/licenses/by/4.0/">
        Creative Commons Attribution 4.0 International License</a>.
      </small>
      <br>Design inspired by <a href="https://html5up.net">HTML5UP</a>.
    </p>
  </footer>

  </div>

  {# Global javascript #}
  <script type="text/javascript" src="{% static 'js/tobiasfyi.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/jquery.min.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/jquery.scrollex.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/jquery.scrolly.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/browser.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/breakpoints.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/util.js' %}"></script>
  <script type="text/javascript" src="{% static '/js/main.js' %}"></script>

  {% block extra_js %}
    {# Override this in templates to add extra javascript #}
  {% endblock %}

</body>

</html>